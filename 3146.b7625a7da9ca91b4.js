(self.webpackChunkpay=self.webpackChunkpay||[]).push([[3146],{3146:(w,v,i)=>{i.r(v);var y=i(5122),e=i(1423),a=i(730),g=i(1327),s=i(1366);const f=function(){return["/app"]},h=function(t){return{show:t}};let u=(()=>{class t{constructor(){this.showBox=!1}ngOnInit(){}onClickOutside(){switch(this.showBox=!this.showBox,!0){case this.showBox:document.getElementById("animatedBox").classList.remove("options-hide");break;case!this.showBox:const r=document.getElementById("animatedBox");setTimeout(()=>{r.classList.add("options-hide")},500)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-pay"]],decls:56,vars:5,consts:[[1,"row-page"],[1,"header"],[3,"routerLink"],[1,"fa-solid","fa-angle-left"],[1,"row-page-qr"],[1,"row-page-qr-header"],[1,"left-section"],["src","https://kasius.github.io/alp-pay/assets/img/check.svg","alt",""],[3,"click"],[1,"fa-solid","fa-ellipsis"],[1,"row-page-qr-img"],["src","https://kasius.github.io/alp-pay/assets/img/qr.svg","alt",""],[1,"row-page-list"],[1,"actions"],[1,"first"],[1,"start"],["src","https://kasius.github.io/alp-pay/assets/img/credit-card.svg","alt",""],["src","https://kasius.github.io/alp-pay/assets/img/right.svg","alt",""],["src","https://kasius.github.io/alp-pay/assets/img/credit-card1.svg","alt",""],["id","animatedBox",1,"options","options-hide",3,"click"],[1,"options-list",3,"ngClass"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"i",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Pay/Collect"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"div"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"div",5)(9,"div",6)(10,"div"),e.\u0275\u0275element(11,"img",7),e.\u0275\u0275text(12,"\xa0\xa0\xa0 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div")(14,"span"),e.\u0275\u0275text(15,"Pay vendors"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275listener("click",function(){return r.onClickOutside()}),e.\u0275\u0275element(17,"i",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",10),e.\u0275\u0275element(19,"img",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",12)(21,"ul",13)(22,"li",14)(23,"div",15),e.\u0275\u0275element(24,"img",16),e.\u0275\u0275elementStart(25,"span"),e.\u0275\u0275text(26,"Collect"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div"),e.\u0275\u0275element(28,"img",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"li")(30,"div",15),e.\u0275\u0275element(31,"img",18),e.\u0275\u0275elementStart(32,"span"),e.\u0275\u0275text(33,"Scan to Pay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div"),e.\u0275\u0275element(35,"img",17),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275listener("click",function(){return r.onClickOutside()}),e.\u0275\u0275elementStart(37,"ul",20)(38,"li")(39,"span"),e.\u0275\u0275text(40,"Payment Settings"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"li")(42,"span"),e.\u0275\u0275text(43,"Instructions"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"li")(45,"span"),e.\u0275\u0275text(46,"Problem Feedback"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(47,"li")(48,"span"),e.\u0275\u0275text(49,"Suspend"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"li")(51,"span"),e.\u0275\u0275text(52,"Add to Home Screen"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"li")(54,"span"),e.\u0275\u0275text(55,"Cancel"),e.\u0275\u0275elementEnd()()()()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(2,f)),e.\u0275\u0275advance(35),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,h,r.showBox)))},dependencies:[g.NgClass,a.RouterLink,s.RouterLinkDelegate]}),t})();const p=[{path:"",component:u}];let m=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.RouterModule.forRoot(p),a.RouterModule]}),t})(),d=(()=>{class t{constructor(){this.title="pay"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[a.RouterOutlet]}),t})();var c=i(3284),S=i(5861);const C=["cameraContent"],_=function(){return["/app"]},k=function(){return["/pay"]},b=[{path:"",component:u},{path:"scan",component:(()=>{class t{constructor(n){this.router=n,this.scanActive=!1,this.result=null}ngAfterViewInit(){c.BarcodeScanner.prepare(),this.startScanner()}ngOnDestroy(){this.cancelScanning()}startScanner(){var n=this;return(0,S.Z)(function*(){if(yield n.checkPermission()){c.BarcodeScanner.hideBackground(),document.body.classList.add("qrscanner");const l=yield c.BarcodeScanner.startScan();console.log("file: scann prueba ",l),l.hasContent&&(n.result=l.content,n.result=JSON.parse(n.result),n.cancelScanning())}})()}checkPermission(){return(0,S.Z)(function*(){return new Promise(function(){var n=(0,S.Z)(function*(r,l){const x=yield c.BarcodeScanner.checkPermission({force:!0});x.granted?r(!0):x.denied?console.log("acceso denegado..."):r(!1)});return function(r,l){return n.apply(this,arguments)}}())})()}cancelScanning(){document.body.classList.remove("qrscanner"),c.BarcodeScanner.showBackground(),c.BarcodeScanner.stopScan(),this.router.navigate(["/pay"])}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(a.Router))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-scan"]],viewQuery:function(n,r){if(1&n&&e.\u0275\u0275viewQuery(C,5),2&n){let l;e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(r.cameraContent=l.first)}},decls:20,vars:6,consts:[[3,"translucent"],[1,"scanner-container",3,"fullscreen"],[1,"fa-solid","fa-xmark","close-icon",3,"routerLink"],[1,"scanner","scanner-ui"],["cameraContent",""],[1,"scanner-line"],[1,"action-row"],[1,"action-row-item"],[1,"action-row-item-detail",3,"routerLink"],["src","https://kasius.github.io/alp-pay/assets/img/qr-w.svg","alt",""],[1,"action-row-item-detail"],["src","https://kasius.github.io/alp-pay/assets/img/photo.svg","alt",""]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"ion-header",0),e.\u0275\u0275element(1,"ion-toolbar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"ion-content",1),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275elementStart(4,"div",3,4),e.\u0275\u0275element(6,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",6)(8,"div")(9,"span"),e.\u0275\u0275text(10,"Scan QR Code or Bar Code"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"div",8),e.\u0275\u0275element(13,"img",9),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15,"Pay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",10),e.\u0275\u0275element(17,"img",11),e.\u0275\u0275elementStart(18,"div"),e.\u0275\u0275text(19,"Alb\xfam"),e.\u0275\u0275elementEnd()()()()()),2&n&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("fullscreen",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(4,_)),e.\u0275\u0275advance(9),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(5,k)))},dependencies:[a.RouterLink,s.IonContent,s.IonHeader,s.IonToolbar,s.RouterLinkDelegate],styles:[".scanner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.scanner[_ngcontent-%COMP%]{position:relative;background-color:transparent!important;width:80%;height:80vh;max-width:300px;max-height:300px;border:2px solid white;border-radius:5px;overflow:hidden;color:#fff}.scanner-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:10px;max-height:300px;animation:scanning 2s linear infinite;background:linear-gradient(180deg,rgba(0,255,0,0) 0%,rgb(237,237,237) 50%,rgba(0,255,0,0) 100%)}@keyframes scanning{0%{transform:translateY(0)}to{transform:translateY(300px)}}.close-icon[_ngcontent-%COMP%]{position:absolute;top:66px;right:16px;color:#fff}.action-row[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;text-align:center;margin-top:50px;bottom:50px}.action-row-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-style:normal;font-weight:400;font-size:12px;line-height:12px}.action-row-item-detail[_ngcontent-%COMP%]{padding:32px}.action-row-item-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:8px}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.RouterModule.forChild(b),a.RouterModule]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[{provide:c.BarcodeScanner,useValue:c.BarcodeScanner}],imports:[g.CommonModule,M,s.IonicModule.forRoot()]}),t})(),B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t,bootstrap:[d]}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[y.BrowserModule,m,P]}),t})();(0,e.enableProdMode)(),y.platformBrowser().bootstrapModule(B).catch(t=>console.error(t))},5861:(w,v,i)=>{function y(a,g,s,f,h,u,p){try{var m=a[u](p),d=m.value}catch(c){return void s(c)}m.done?g(d):Promise.resolve(d).then(f,h)}function e(a){return function(){var g=this,s=arguments;return new Promise(function(f,h){var u=a.apply(g,s);function p(d){y(u,f,h,p,m,"next",d)}function m(d){y(u,f,h,p,m,"throw",d)}p(void 0)})}}i.d(v,{Z:()=>e})}}]);