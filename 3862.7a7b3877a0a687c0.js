(self.webpackChunkpay=self.webpackChunkpay||[]).push([[3862],{9842:(h,g,n)=>{n.d(g,{y:()=>r});var e=n(730),c=n(3779),s=n(4962),l=n(1423);const u=[{path:"",component:c.H},{path:"scan",component:s.C}];let r=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=l.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=l.\u0275\u0275defineInjector({imports:[e.RouterModule.forChild(u),e.RouterModule]}),i})()},3779:(h,g,n)=>{n.d(g,{H:()=>a});var e=n(1423),c=n(1327),l=n(730),u=n(1366);const i=function(){return["/app"]},_=function(d){return{show:d}};let a=(()=>{class d{constructor(){this.showBox=!1}ngOnInit(){}onClickOutside(){switch(this.showBox=!this.showBox,!0){case this.showBox:document.getElementById("animatedBox").classList.remove("options-hide");break;case!this.showBox:const E=document.getElementById("animatedBox");setTimeout(()=>{E.classList.add("options-hide")},500)}}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["app-pay"]],decls:56,vars:5,consts:[[1,"row-page"],[1,"header"],[3,"routerLink"],[1,"fa-solid","fa-angle-left"],[1,"row-page-qr"],[1,"row-page-qr-header"],[1,"left-section"],["src","https://kasius.github.io/alp-pay/assets/img/check.svg","alt",""],[3,"click"],[1,"fa-solid","fa-ellipsis"],[1,"row-page-qr-img"],["src","https://kasius.github.io/alp-pay/assets/img/qr.svg","alt",""],[1,"row-page-list"],[1,"actions"],[1,"first"],[1,"start"],["src","https://kasius.github.io/alp-pay/assets/img/credit-card.svg","alt",""],["src","https://kasius.github.io/alp-pay/assets/img/right.svg","alt",""],["src","https://kasius.github.io/alp-pay/assets/img/credit-card1.svg","alt",""],["id","animatedBox",1,"options","options-hide",3,"click"],[1,"options-list",3,"ngClass"]],template:function(p,E){1&p&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"i",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Pay/Collect"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"div"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"div",5)(9,"div",6)(10,"div"),e.\u0275\u0275element(11,"img",7),e.\u0275\u0275text(12,"\xa0\xa0\xa0 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div")(14,"span"),e.\u0275\u0275text(15,"Pay vendors"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275listener("click",function(){return E.onClickOutside()}),e.\u0275\u0275element(17,"i",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",10),e.\u0275\u0275element(19,"img",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",12)(21,"ul",13)(22,"li",14)(23,"div",15),e.\u0275\u0275element(24,"img",16),e.\u0275\u0275elementStart(25,"span"),e.\u0275\u0275text(26,"Collect"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div"),e.\u0275\u0275element(28,"img",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"li")(30,"div",15),e.\u0275\u0275element(31,"img",18),e.\u0275\u0275elementStart(32,"span"),e.\u0275\u0275text(33,"Scan to Pay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div"),e.\u0275\u0275element(35,"img",17),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275listener("click",function(){return E.onClickOutside()}),e.\u0275\u0275elementStart(37,"ul",20)(38,"li")(39,"span"),e.\u0275\u0275text(40,"Payment Settings"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"li")(42,"span"),e.\u0275\u0275text(43,"Instructions"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"li")(45,"span"),e.\u0275\u0275text(46,"Problem Feedback"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(47,"li")(48,"span"),e.\u0275\u0275text(49,"Suspend"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"li")(51,"span"),e.\u0275\u0275text(52,"Add to Home Screen"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"li")(54,"span"),e.\u0275\u0275text(55,"Cancel"),e.\u0275\u0275elementEnd()()()()()),2&p&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(2,i)),e.\u0275\u0275advance(35),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,_,E.showBox)))},dependencies:[c.NgClass,l.RouterLink,u.RouterLinkDelegate]}),d})()},3862:(h,g,n)=>{n.r(g),n.d(g,{PayModule:()=>_});var e=n(1327),c=n(3284),l=n(1366),u=n(9842),r=n(1423);let _=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=r.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=r.\u0275\u0275defineInjector({providers:[{provide:c.BarcodeScanner,useValue:c.BarcodeScanner}],imports:[e.CommonModule,u.y,l.IonicModule.forRoot()]}),a})()},4962:(h,g,n)=>{n.d(g,{C:()=>v});var e=n(5861),t=n(1423),s=n(3284),m=n(730),r=n(1366);const _=["cameraContent"],a=function(){return["/app"]},d=function(){return["/pay"]};let v=(()=>{class p{constructor(o){this.router=o,this.scanActive=!1,this.result=null}ngAfterViewInit(){s.BarcodeScanner.prepare(),this.startScanner()}ngOnDestroy(){this.cancelScanning()}startScanner(){var o=this;return(0,e.Z)(function*(){if(yield o.checkPermission()){s.BarcodeScanner.hideBackground(),document.body.classList.add("qrscanner");const f=yield s.BarcodeScanner.startScan();console.log("file: scann prueba ",f),f.hasContent&&(o.result=f.content,o.result=JSON.parse(o.result),o.cancelScanning())}})()}checkPermission(){return(0,e.Z)(function*(){return new Promise(function(){var o=(0,e.Z)(function*(P,f){const M=yield s.BarcodeScanner.checkPermission({force:!0});M.granted?P(!0):M.denied?console.log("acceso denegado..."):P(!1)});return function(P,f){return o.apply(this,arguments)}}())})()}cancelScanning(){document.body.classList.remove("qrscanner"),s.BarcodeScanner.showBackground(),s.BarcodeScanner.stopScan(),this.router.navigate(["/pay"])}}return p.\u0275fac=function(o){return new(o||p)(t.\u0275\u0275directiveInject(m.Router))},p.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["app-scan"]],viewQuery:function(o,P){if(1&o&&t.\u0275\u0275viewQuery(_,5),2&o){let f;t.\u0275\u0275queryRefresh(f=t.\u0275\u0275loadQuery())&&(P.cameraContent=f.first)}},decls:20,vars:6,consts:[[3,"translucent"],[1,"scanner-container",3,"fullscreen"],[1,"fa-solid","fa-xmark","close-icon",3,"routerLink"],[1,"scanner","scanner-ui"],["cameraContent",""],[1,"scanner-line"],[1,"action-row"],[1,"action-row-item"],[1,"action-row-item-detail",3,"routerLink"],["src","https://kasius.github.io/alp-pay/assets/img/qr-w.svg","alt",""],[1,"action-row-item-detail"],["src","https://kasius.github.io/alp-pay/assets/img/photo.svg","alt",""]],template:function(o,P){1&o&&(t.\u0275\u0275elementStart(0,"ion-header",0),t.\u0275\u0275element(1,"ion-toolbar"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"ion-content",1),t.\u0275\u0275element(3,"i",2),t.\u0275\u0275elementStart(4,"div",3,4),t.\u0275\u0275element(6,"div",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",6)(8,"div")(9,"span"),t.\u0275\u0275text(10,"Scan QR Code or Bar Code"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",7)(12,"div",8),t.\u0275\u0275element(13,"img",9),t.\u0275\u0275elementStart(14,"div"),t.\u0275\u0275text(15,"Pay"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div",10),t.\u0275\u0275element(17,"img",11),t.\u0275\u0275elementStart(18,"div"),t.\u0275\u0275text(19,"Alb\xfam"),t.\u0275\u0275elementEnd()()()()()),2&o&&(t.\u0275\u0275property("translucent",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("fullscreen",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(4,a)),t.\u0275\u0275advance(9),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(5,d)))},dependencies:[m.RouterLink,r.IonContent,r.IonHeader,r.IonToolbar,r.RouterLinkDelegate],styles:[".scanner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.scanner[_ngcontent-%COMP%]{position:relative;background-color:transparent!important;width:80%;height:80vh;max-width:300px;max-height:300px;border:2px solid white;border-radius:5px;overflow:hidden;color:#fff}.scanner-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:10px;max-height:300px;animation:scanning 2s linear infinite;background:linear-gradient(180deg,rgba(0,255,0,0) 0%,rgb(237,237,237) 50%,rgba(0,255,0,0) 100%)}@keyframes scanning{0%{transform:translateY(0)}to{transform:translateY(300px)}}.close-icon[_ngcontent-%COMP%]{position:absolute;top:66px;right:16px;color:#fff}.action-row[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;text-align:center;margin-top:50px;bottom:50px}.action-row-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-style:normal;font-weight:400;font-size:12px;line-height:12px}.action-row-item-detail[_ngcontent-%COMP%]{padding:32px}.action-row-item-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:8px}"]}),p})()},5861:(h,g,n)=>{function e(c,s,l,m,u,r,i){try{var _=c[r](i),a=_.value}catch(d){return void l(d)}_.done?s(a):Promise.resolve(a).then(m,u)}function t(c){return function(){var s=this,l=arguments;return new Promise(function(m,u){var r=c.apply(s,l);function i(a){e(r,m,u,i,_,"next",a)}function _(a){e(r,m,u,i,_,"throw",a)}i(void 0)})}}n.d(g,{Z:()=>t})}}]);